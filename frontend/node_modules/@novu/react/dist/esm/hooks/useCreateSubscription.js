// src/hooks/useCreateSubscription.ts
import { useCallback, useRef, useState } from "react";
import { useNovu } from "./NovuProvider.js";
var useCreateSubscription = (props = {}) => {
  const propsRef = useRef(props);
  propsRef.current = props;
  const novu = useNovu();
  const [isCreating, setIsCreating] = useState(false);
  const [error, setError] = useState();
  const create = useCallback(
    async (args) => {
      const { onSuccess, onError } = propsRef.current;
      setError(void 0);
      setIsCreating(true);
      const response = await novu.subscriptions.create(args);
      setIsCreating(false);
      if (response.error) {
        setError(response.error);
        onError?.(response.error);
      } else if (response.data) {
        onSuccess?.(response.data);
      }
      return response;
    },
    [novu]
  );
  return {
    create,
    isCreating,
    error
  };
};
export {
  useCreateSubscription
};
//# sourceMappingURL=useCreateSubscription.js.map