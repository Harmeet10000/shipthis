// src/hooks/useRemoveSubscription.ts
import { useCallback, useRef, useState } from "react";
import { useNovu } from "./NovuProvider.js";
var useRemoveSubscription = (props = {}) => {
  const propsRef = useRef(props);
  propsRef.current = props;
  const novu = useNovu();
  const [isRemoving, setIsRemoving] = useState(false);
  const [error, setError] = useState();
  const removeCallback = useCallback(
    async (args) => {
      const { onSuccess, onError } = propsRef.current;
      setError(void 0);
      setIsRemoving(true);
      const response = await novu.subscriptions.delete(args);
      setIsRemoving(false);
      if (response.error) {
        setError(response.error);
        onError?.(response.error);
      } else if (response.data) {
        onSuccess?.();
      }
      return response;
    },
    [novu]
  );
  return {
    remove: removeCallback,
    isRemoving,
    error
  };
};
export {
  useRemoveSubscription
};
//# sourceMappingURL=useRemoveSubscription.js.map