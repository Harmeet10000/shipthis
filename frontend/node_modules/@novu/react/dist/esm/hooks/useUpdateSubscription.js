// src/hooks/useUpdateSubscription.ts
import { useCallback, useRef, useState } from "react";
import { useNovu } from "./NovuProvider.js";
var useUpdateSubscription = (props = {}) => {
  const propsRef = useRef(props);
  propsRef.current = props;
  const novu = useNovu();
  const [isUpdating, setIsUpdating] = useState(false);
  const [error, setError] = useState();
  const update = useCallback(
    async (args) => {
      const { onSuccess, onError } = propsRef.current;
      setError(void 0);
      setIsUpdating(true);
      const response = await novu.subscriptions.update(args);
      setIsUpdating(false);
      if (response.error) {
        setError(response.error);
        onError?.(response.error);
      } else if (response.data) {
        onSuccess?.(response.data);
      }
      return response;
    },
    [novu]
  );
  return {
    update,
    isUpdating,
    error
  };
};
export {
  useUpdateSubscription
};
//# sourceMappingURL=useUpdateSubscription.js.map