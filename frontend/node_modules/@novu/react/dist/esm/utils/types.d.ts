import { UnreadCount, DefaultSchedule, Context, Subscriber } from '@novu/js';
import { Notification, InboxIconKey, InboxTheme, SubscriptionIconKey, SubscriptionTheme, AllIconKey, AllTheme, NotificationClickHandler, NotificationActionClickHandler, InboxProps, InboxLocalization, Tab, PreferencesFilter, PreferenceGroups, PreferencesSort, RouterPush } from '@novu/js/ui';
import { ReactNode } from 'react';

type NotificationsRenderer = (notification: Notification) => React.ReactNode;
type AvatarRenderer = (notification: Notification) => React.ReactNode;
type SubjectRenderer = (notification: Notification) => React.ReactNode;
type BodyRenderer = (notification: Notification) => React.ReactNode;
type DefaultActionsRenderer = (notification: Notification) => React.ReactNode;
type CustomActionsRenderer = (notification: Notification) => React.ReactNode;
type BellRenderer = (unreadCount: UnreadCount) => React.ReactNode;
type ReactIconRendererProps = {
    class?: string;
};
type ReactIconRenderer = (props: ReactIconRendererProps) => ReactNode;
type ReactInboxIconOverrides = {
    [key in InboxIconKey]?: ReactIconRenderer;
};
type ReactInboxTheme = Omit<InboxTheme, 'icons'> & {
    icons?: ReactInboxIconOverrides;
};
type ReactSubscriptionIconOverrides = {
    [key in SubscriptionIconKey]?: ReactIconRenderer;
};
type ReactSubscriptionTheme = Omit<SubscriptionTheme, 'icons'> & {
    icons?: ReactSubscriptionIconOverrides;
};
type ReactAllIconOverrides = {
    [key in AllIconKey]?: ReactIconRenderer;
};
type ReactAllTheme = Omit<AllTheme, 'icons'> & {
    icons?: ReactAllIconOverrides;
};
type ReactInboxAppearance = ReactInboxTheme & {
    baseTheme?: InboxTheme | InboxTheme[];
};
type ReactSubscriptionAppearance = ReactSubscriptionTheme & {
    baseTheme?: SubscriptionTheme | SubscriptionTheme[];
};
type ReactAllAppearance = ReactAllTheme & {
    baseTheme?: ReactAllTheme | ReactAllTheme[];
};
type DefaultInboxProps = {
    open?: boolean;
    renderNotification?: NotificationsRenderer;
    renderAvatar?: AvatarRenderer;
    renderSubject?: SubjectRenderer;
    renderBody?: BodyRenderer;
    renderDefaultActions?: DefaultActionsRenderer;
    renderCustomActions?: CustomActionsRenderer;
    renderBell?: BellRenderer;
    onNotificationClick?: NotificationClickHandler;
    onPrimaryActionClick?: NotificationActionClickHandler;
    onSecondaryActionClick?: NotificationActionClickHandler;
    placement?: InboxProps['placement'];
    placementOffset?: InboxProps['placementOffset'];
};
type StandardBaseProps = {
    subscriberHash?: string;
    contextHash?: string;
    backendUrl?: string;
    socketUrl?: string;
    appearance?: ReactInboxAppearance;
    localization?: InboxLocalization;
    tabs?: Array<Tab>;
    preferencesFilter?: PreferencesFilter;
    preferenceGroups?: PreferenceGroups;
    preferencesSort?: PreferencesSort;
    defaultSchedule?: DefaultSchedule;
    routerPush?: RouterPush;
    context?: Context;
} & ({
    /** @deprecated Use subscriber prop instead */
    subscriberId: string;
    subscriber?: never;
    applicationIdentifier: string;
} | {
    subscriber: Subscriber | string;
    subscriberId?: never;
    applicationIdentifier: string;
} | {
    subscriber?: never;
    subscriberId?: never;
    applicationIdentifier?: never;
});
type InboxBaseProps = Omit<StandardBaseProps, 'appearance'> & {
    appearance?: ReactInboxAppearance;
};
type BaseProps = InboxBaseProps;
type NotificationRendererProps = {
    renderNotification: NotificationsRenderer;
    renderAvatar?: never;
    renderSubject?: never;
    renderBody?: never;
    renderDefaultActions?: never;
    renderCustomActions?: never;
};
type SubjectBodyRendererProps = {
    renderNotification?: never;
    renderAvatar?: AvatarRenderer;
    renderSubject?: SubjectRenderer;
    renderBody?: BodyRenderer;
    renderDefaultActions?: DefaultActionsRenderer;
    renderCustomActions?: CustomActionsRenderer;
};
type NoRendererProps = {
    renderNotification?: undefined;
    renderAvatar?: undefined;
    renderSubject?: undefined;
    renderBody?: undefined;
    renderDefaultActions?: undefined;
    renderCustomActions?: undefined;
};
type DefaultProps = BaseProps & DefaultInboxProps & {
    children?: never;
} & (NotificationRendererProps | SubjectBodyRendererProps | NoRendererProps);
type WithChildrenProps = BaseProps & {
    children: React.ReactNode;
};

export type { AvatarRenderer, BaseProps, BellRenderer, BodyRenderer, CustomActionsRenderer, DefaultActionsRenderer, DefaultInboxProps, DefaultProps, NoRendererProps, NotificationRendererProps, NotificationsRenderer, ReactAllAppearance, ReactAllIconOverrides, ReactAllTheme, ReactIconRenderer, ReactIconRendererProps, ReactInboxAppearance, ReactInboxIconOverrides, ReactInboxTheme, ReactSubscriptionAppearance, ReactSubscriptionIconOverrides, ReactSubscriptionTheme, SubjectBodyRendererProps, SubjectRenderer, WithChildrenProps };
